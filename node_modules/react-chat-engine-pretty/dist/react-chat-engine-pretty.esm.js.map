{"version":3,"file":"react-chat-engine-pretty.esm.js","sources":["../src/functions/isMobile.ts","../src/functions/getOtherUsers.ts","../src/components/OtherAvatars.tsx","../src/functions/dates.ts","../src/components/ChatHeader.tsx","../src/components/ChatForm.tsx","../src/components/ChatCard.tsx","../src/components/MessageForm.tsx","../src/components/ChatListHeader.tsx","../src/index.tsx"],"sourcesContent":["import { useLayoutEffect, useState } from 'react';\n\nexport const useIsMobile = () => {\n  const [size, setSize] = useState([0, 0]);\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize([window.innerWidth, window.innerHeight]);\n    }\n    window.addEventListener('resize', updateSize);\n    updateSize();\n    return () => window.removeEventListener('resize', updateSize);\n  }, []);\n  return size[0] < 667;\n};\n","import { ChatObject, PersonObject } from \"react-chat-engine-advanced\";\n\nexport const getOtherUsers = (\n  chat: ChatObject,\n  username: string\n): PersonObject[] => {\n  const otherMembers = chat.people.filter(\n    (member) => member.person.username !== username\n  );\n  return otherMembers.map(member => member.person)\n};\n\nexport const getChatTitle = (chat: ChatObject, username: string) => {\n  const otherUsers = getOtherUsers(chat, username)\n  if (otherUsers.length === 1) {\n    return `${otherUsers[0].first_name} ${otherUsers[0].last_name}`;\n  } else {\n    var title = '';\n    for (let i = 0; i < otherUsers.length; i++) {\n      if (i === otherUsers.length - 1) {\n        title += otherUsers[i].first_name;\n      } else if (i === otherUsers.length - 2) {\n        title += otherUsers[i].first_name + ' & ';\n      } else {\n        title += otherUsers[i].first_name + ', ';\n      }\n    }\n    return title;\n  }\n};\n","import React from 'react';\n\nimport { Avatar, ChatObject } from 'react-chat-engine-advanced';\nimport { getOtherUsers } from '../functions/getOtherUsers';\ninterface OtherAvatarProps {\n  chat: ChatObject;\n  username: string;\n  style?: React.CSSProperties;\n}\n\nconst OtherAvatars = (props: OtherAvatarProps) => {\n  const otherUsers = getOtherUsers(props.chat, props.username);\n  const memberOne = otherUsers.length > 0 ? otherUsers[0] : undefined;\n  const memberTwo = otherUsers.length > 1 ? otherUsers[1] : undefined;\n  const memberThree = otherUsers.length > 2 ? otherUsers[2] : undefined;\n\n  return (\n    <div style={props.style}>\n      <Avatar\n        className=\"ce-custom-header-avatar\"\n        avatarUrl={memberOne?.avatar}\n        username={memberOne?.username}\n        style={{\n          ...styles.avatar,\n          ...(memberOne?.is_online ? styles.online : styles.offline),\n          ...(memberTwo && {\n            width: '28px',\n            height: '28px',\n            lineHeight: '28px',\n            fontSize: '12px',\n          }),\n          ...(memberThree && {\n            width: '21px',\n            height: '21px',\n            lineHeight: '21px',\n            fontSize: '10px',\n          }),\n        }}\n      />\n\n      {memberTwo && (\n        <Avatar\n          className=\"ce-custom-header-avatar\"\n          avatarUrl={memberTwo?.avatar}\n          username={memberTwo?.username}\n          style={{\n            ...styles.avatar,\n            ...(memberOne?.is_online ? styles.online : styles.offline),\n            ...{\n              width: '28px',\n              height: '28px',\n              lineHeight: '28px',\n              fontSize: '12px',\n              top: 'calc(40px - 28px - 6px)',\n              left: 'calc(40px - 28px)',\n            },\n            ...(memberThree && {\n              width: '21px',\n              height: '21px',\n              lineHeight: '21px',\n              fontSize: '10px',\n              top: '-5px',\n              left: '22px',\n            }),\n          }}\n        />\n      )}\n\n      {memberThree && (\n        <Avatar\n          className=\"ce-custom-header-avatar\"\n          avatarUrl={memberThree?.avatar}\n          username={memberThree?.username}\n          style={{\n            ...styles.avatar,\n            ...(memberThree?.is_online ? styles.online : styles.offline),\n            ...{\n              width: '21px',\n              height: '21px',\n              lineHeight: '21px',\n              fontSize: '10px',\n              top: '-7px',\n              left: '11px',\n            },\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nconst styles = {\n  avatar: {\n    display: 'inline-block',\n    position: 'relative',\n    top: '22px',\n    marginLeft: '12px',\n    width: '38px',\n    height: '38px',\n    fontSize: '14px',\n    lineHeight: '40px',\n    transition: 'all 0.66s ease',\n  } as React.CSSProperties,\n  online: {\n    border: '1px solid rgb(24, 144, 255)',\n    boxShadow: 'rgb(24 144 255 / 35%) 0px 2px 7px',\n  } as React.CSSProperties,\n  offline: {\n    border: '1px solid #fa541c',\n    boxShadow: 'rgb(245 34 45 / 35%) 0px 2px 7px',\n  } as React.CSSProperties,\n};\n\nexport default OtherAvatars;\n","export const nowTimeStamp = () => {\n    return new Date()\n      .toISOString()\n      .replace(\"T\", \" \")\n      .replace(\"Z\", `${Math.floor(Math.random() * 1000)}+00:00`);\n  };\n  ","import React, { CSSProperties } from 'react';\n\nimport axios from 'axios';\n\nimport { ChatHeaderProps, ChatObject } from 'react-chat-engine-advanced';\n\nimport {\n  DeleteFilled,\n  PaperClipOutlined,\n  LoadingOutlined,\n} from '@ant-design/icons';\n\nimport OtherAvatars from './OtherAvatars';\n\nimport { nowTimeStamp } from '../functions/dates';\nimport { getOtherUsers, getChatTitle } from '../functions/getOtherUsers';\n\nimport { useState } from 'react';\n\ninterface CustomChatHeaderProps extends ChatHeaderProps {\n  chat?: ChatObject;\n  projectId: string;\n  username: string;\n  secret: string;\n  onDeleteChat: (oldChat: ChatObject) => void;\n}\n\nconst ChatHeader = (props: CustomChatHeaderProps) => {\n  // State\n  const [isFilePickerLoading, setFilePickerLoading] = useState(false);\n  const [isDeleteLoading, setDeleteLoading] = useState(false);\n\n  const otherMembers = props.chat\n    ? getOtherUsers(props.chat, props.username)\n    : [];\n  const otherMember = otherMembers.length > 0 ? otherMembers[0] : undefined;\n\n  const onFilesSelect: React.ChangeEventHandler<HTMLInputElement> = e => {\n    if (!props.chat) return;\n    setFilePickerLoading(true);\n\n    const headers = {\n      'Project-ID': props.projectId,\n      'User-Name': props.username,\n      'User-Secret': props.secret,\n    };\n\n    const formdata = new FormData();\n    const filesArr = Array.from(e.target.files !== null ? e.target.files : []);\n    filesArr.forEach(file => formdata.append('attachments', file, file.name));\n    formdata.append('created', nowTimeStamp());\n    formdata.append('sender_username', props.username);\n    formdata.append('custom_json', JSON.stringify({}));\n\n    axios\n      .post(\n        `https://api.chatengine.io/chats/${props.chat.id}/messages/`,\n        formdata,\n        { headers }\n      )\n      .then(() => setFilePickerLoading(false))\n      .catch(() => setFilePickerLoading(false));\n  };\n\n  const onDelete = () => {\n    if (!props.chat) return;\n    setDeleteLoading(true);\n\n    const headers = {\n      'Project-ID': props.projectId,\n      'User-Name': props.username,\n      'User-Secret': props.secret,\n    };\n\n    axios\n      .delete(`https://api.chatengine.io/chats/${props.chat.id}/`, { headers })\n      .then(r => {\n        setDeleteLoading(false);\n        props.onDeleteChat(r.data);\n      });\n  };\n\n  if (!otherMember || !props.chat)\n    return <div className=\"ce-custom-chat-header\" style={styles.chatHeader} />;\n\n  return (\n    <div className=\"ce-custom-chat-header\" style={styles.chatHeader}>\n      <OtherAvatars\n        chat={props.chat}\n        username={props.username}\n        style={styles.chatAvatars}\n      />\n\n      <div className=\"ce-custom-header-text\" style={styles.headerText}>\n        <div className=\"ce-custom-header-title\" style={styles.headerTitle}>\n          {getChatTitle(props.chat, props.username)}\n        </div>\n        <div\n          className=\"ce-custom-header-subtitle\"\n          style={styles.headerSubtitle}\n        >\n          {otherMember.is_online ? 'Online' : 'Offline'}\n        </div>\n      </div>\n\n      <div className=\"ce-custom-header-icon-wrapper\" style={styles.iconWrapper}>\n        <form style={{ display: 'inline-block' }}>\n          <label htmlFor=\"ce-files-picker\">\n            {isFilePickerLoading ? (\n              <LoadingOutlined\n                style={{ color: 'rgb(153, 153, 153)' }}\n                className=\"ce-custom-header-icon\"\n              />\n            ) : (\n              <PaperClipOutlined\n                style={styles.headerIcon}\n                className=\"ce-custom-header-icon\"\n              />\n            )}\n          </label>\n          <input\n            multiple\n            id=\"ce-files-picker\"\n            style={{ visibility: 'hidden', height: '0px', width: '0px' }}\n            type=\"file\"\n            onChange={onFilesSelect}\n          />\n        </form>\n\n        {isDeleteLoading ? (\n          <LoadingOutlined\n            style={{ color: 'rgb(153, 153, 153)' }}\n            className=\"ce-custom-header-icon\"\n          />\n        ) : (\n          <DeleteFilled\n            onClick={() => onDelete()}\n            className=\"ce-custom-header-icon\"\n            style={styles.headerIcon}\n          />\n        )}\n      </div>\n\n      <style>{`.ce-custom-header-icon:hover { color: rgb(24, 144, 255) !important; }`}</style>\n    </div>\n  );\n};\n\nconst styles = {\n  chatAvatars: {\n    width: 'calc(40px + 14px + 14px)',\n    height: '100%',\n    display: 'block',\n  } as CSSProperties,\n  chatHeader: {\n    display: 'flex',\n    position: 'relative',\n    marginLeft: '12px',\n    width: 'calc(100% - 12px - 12px)',\n    height: '86px',\n  } as CSSProperties,\n  headerText: {\n    display: 'block',\n    width: 'calc(100% - 40px - 14px - 14px - 100px)',\n    height: '100%',\n    position: 'relative',\n  } as CSSProperties,\n  headerTitle: {\n    color: 'white',\n    fontSize: '13px',\n    fontFamily: 'Avenir',\n    paddingTop: '26.5px',\n  } as CSSProperties,\n  headerSubtitle: {\n    fontFamily: 'Avenir',\n    color: 'rgb(153, 153, 153)',\n    fontSize: '11px',\n  } as CSSProperties,\n  iconWrapper: {\n    display: 'block',\n    width: '100px',\n    height: '100%',\n    textAlign: 'right',\n  } as CSSProperties,\n  headerIcon: {\n    marginLeft: '12px',\n    paddingTop: 'calc((86px - 15px) / 2)',\n    cursor: 'pointer',\n    color: 'rgb(153, 153, 153)',\n    transition: 'all 0.66s ease',\n  } as CSSProperties,\n};\n\nexport default ChatHeader;\n","import React, { CSSProperties, useRef, useEffect, useState } from 'react';\n\nimport axios from 'axios';\n\nimport { PersonObject } from 'react-chat-engine-advanced';\n\nimport { PlusOutlined } from '@ant-design/icons';\n\nimport Select from 'react-select';\n\nexport interface OptionType {\n  value: string;\n  label: string;\n}\n\ninterface ChatFormProps {\n  projectId: string;\n  username: string;\n  secret: string;\n  onChange: (users: OptionType[]) => void;\n  onCancel: () => void;\n}\n\nconst ChatForm = (props: ChatFormProps) => {\n  const didMountRef = useRef(false);\n  const [options, setOptions] = useState<OptionType[]>([]);\n  const [selected, setSelected] = useState<OptionType[]>([]);\n\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n\n      getAllUsers(\n        users => {\n          const otherUsers = users.filter(\n            user => user.username !== props.username\n          );\n          const options = otherUsers.map(user => {\n            return {\n              value: JSON.stringify(user),\n              label: `${user.first_name} ${user.last_name}`,\n            };\n          });\n          setOptions(options);\n        },\n        () => console.log('oops!')\n      );\n    }\n  });\n\n  const getAllUsers = (\n    onSuccess: (data: PersonObject[]) => void,\n    onError: () => void\n  ) => {\n    axios\n      .get('https://api.chatengine.io/users/search/', {\n        headers: {\n          'Project-ID': props.projectId,\n          'User-Name': props.username,\n          'User-Secret': props.secret,\n        },\n      })\n      .then(r => onSuccess(r.data))\n      .catch(() => onError);\n  };\n\n  return (\n    <div className=\"ce-custom-chat-form\" style={styles.chatForm}>\n      <Select\n        options={options}\n        autoFocus={true}\n        isMulti={true}\n        onChange={users => {\n          setSelected(users as OptionType[]);\n          props.onChange(users as OptionType[]);\n        }}\n        styles={customStyles}\n        placeholder=\"Search for users...\"\n      />\n\n      <button\n        className=\"ce-create-chat-button\"\n        style={{\n          ...styles.createChatButton,\n          ...(selected.length === 0 && styles.createChatButtonDisabled),\n        }}\n        onClick={props.onCancel}\n        disabled={selected.length === 0}\n      >\n        <PlusOutlined />\n      </button>\n\n      <style>{`.ce-create-chat-button:hover { background-color: #40a9ff; }`}</style>\n    </div>\n  );\n};\n\ninterface StateType {\n  isFocused: boolean;\n}\n\nconst customStyles = {\n  container: () => ({\n    width: 'calc(100% - 12px - 12px - 38px - 4px)',\n    marginLeft: '12px',\n    marginTop: '26px',\n  }),\n  control: (provided: object) => ({\n    ...provided,\n    outline: 'none',\n    fontFamily: 'Avenir',\n    color: 'white',\n    backgroundColor: '#434758',\n    borderRadius: '8px',\n    border: '1px solid rgb(24, 144, 255)',\n    boxShadow: 'rgb(24 144 255 / 35%) 0px 2px 7px',\n  }),\n  input: (provided: object) => ({\n    ...provided,\n    color: 'white',\n  }),\n  placeholder: (provided: object) => ({\n    ...provided,\n    color: 'rgb(197, 197, 197)',\n  }),\n  option: (provided: object, state: StateType) => ({\n    ...provided,\n    fontFamily: 'Avenir',\n    color: 'rgb(197, 197, 197)',\n    backgroundColor: state.isFocused ? '#4e5263' : '#434758',\n  }),\n  noOptionsMessage: (provided: object) => ({\n    ...provided,\n    fontFamily: 'Avenir',\n  }),\n  menu: (provided: object) => ({\n    ...provided,\n    width: 'calc(100% - 12px - 12px - 38px - 4px)',\n    backgroundColor: '#434758',\n  }),\n};\n\nconst styles = {\n  chatForm: {\n    display: 'inline-block',\n    position: 'relative',\n    width: '100%',\n    height: '86px',\n  } as CSSProperties,\n  createChatButton: {\n    width: '38px',\n    height: '38px',\n    position: 'absolute',\n    right: '12px',\n    top: '26px',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    transition: 'all 0.44s ease',\n    outline: 'none',\n    backgroundColor: 'rgb(24, 144, 255)',\n    border: '1px solid rgb(24, 144, 255)',\n    fontSize: '18px',\n    color: 'white',\n    boxShadow: 'rgba(24, 144, 255, 0.35) 0px 5px 15px',\n  } as CSSProperties,\n  createChatButtonDisabled: {\n    cursor: 'not-allowed',\n    color: 'rgb(62,64,75)',\n    backgroundColor: '#323642',\n    border: '1px solid #323642',\n    boxShadow: 'none',\n  } as CSSProperties,\n};\n\nexport default ChatForm;\n","import React from 'react';\n\nimport {\n  ChatCard,\n  ChatCardProps,\n  ChatObject,\n} from 'react-chat-engine-advanced';\n\nimport { getChatTitle, getOtherUsers } from '../functions/getOtherUsers';\n\nimport OtherAvatars from './OtherAvatars';\n\ninterface CustomChatCardProps extends ChatCardProps {\n  username: string;\n  isActive: boolean;\n  onChatCardClick: (chatId: number) => void;\n  chat?: ChatObject;\n}\n\nconst CustomChatCard = (props: CustomChatCardProps) => {\n  const { chat } = props;\n\n  if (chat === undefined) return <div />;\n\n  const otherUsers = getOtherUsers(chat, props.username);\n  const otherMember = otherUsers.length > 0 ? otherUsers[0] : undefined;\n  const username = otherMember ? otherMember.username : '';\n  const messageText = chat.last_message.text;\n  const hasNotification = chat.last_message.sender_username !== props.username;\n\n  return (\n    <div>\n      <style>{`\n        .ce-chat-card:hover { border: 1px solid #1890ff !important; box-shadow: rgb(24 144 255 / 35%) 0px 2px 7px !important; }\n        .ce-chat-card-loading { height: 10px !important; }\n        .ce-chat-card-title-loading { top: 16px !important; }\n        `}</style>\n\n      <ChatCard\n        title={getChatTitle(chat, props.username)}\n        description={\n          messageText === null || messageText.length === 0\n            ? 'Say hello'\n            : messageText\n        }\n        hasNotification={hasNotification}\n        avatarUrl={otherMember?.avatar}\n        avatarUsername={username}\n        avatarStyle={{\n          top: '12px',\n          boxShadow: otherMember?.is_online\n            ? 'rgb(24 144 255 / 35%) 0px 2px 7px'\n            : 'rgb(245 34 45 / 35%) 0px 2px 7px',\n          border: otherMember?.is_online\n            ? '1px solid rgb(24 144 255)'\n            : '1px solid rgb(245 34 45)',\n        }}\n        isActive={props.isActive}\n        renderAvatar={() => (\n          <OtherAvatars\n            chat={chat}\n            username={props.username}\n            style={{\n              position: 'relative',\n              width: '52px',\n              top: '-8px',\n            }}\n          />\n        )}\n        onClick={() => props.chat && props.onChatCardClick(props.chat.id)}\n        style={{\n          border: '1px solid #3e404b',\n          backgroundColor: '#3e404b',\n          margin: '10px 12px',\n          height: '68px',\n        }}\n        titleStyle={{ color: 'white' }}\n        subtitleStyle={{\n          bottom: '16px',\n          width: 'calc(70% - 44px)',\n          color: '#c5c5c5',\n        }}\n        timeStampStyle={{\n          fontSize: '12px',\n          bottom: '16px',\n        }}\n        activeStyle={{\n          border: '1px solid #1890ff',\n          backgroundColor: '#1890ff',\n          boxShadow: 'rgb(24 144 255 / 35%) 0px 2px 7px',\n          color: 'white',\n        }}\n        notificationStyle={{ top: 'calc((68px - 12px) / 2)' }}\n      />\n    </div>\n  );\n};\n\nexport default CustomChatCard;\n","import React, { CSSProperties } from 'react';\nimport { useState } from 'react';\n\nimport { CaretUpFilled } from '@ant-design/icons';\n\nimport { MessageObject, MessageFormProps } from 'react-chat-engine-advanced';\n\nimport { nowTimeStamp } from '../functions/dates';\n\nconst MessageForm = (props: MessageFormProps) => {\n  const [text, setText] = useState<string>('');\n  const [isFocused, setIsFocused] = useState<boolean>(false);\n\n  const onSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    if (text.trim().length === 0) {\n      return;\n    }\n\n    setText('');\n\n    const message: MessageObject = {\n      text: text,\n      sender_username: props.username ? props.username : '',\n      created: nowTimeStamp(),\n      custom_json: {},\n      attachments: [],\n    };\n\n    props.onSubmit && props.onSubmit(message);\n  };\n\n  return (\n    <form\n      onSubmit={onSubmit}\n      style={styles.messageForm}\n      className=\"ce-custom-message-form\"\n    >\n      <input\n        onChange={e => setText(e.target.value)}\n        value={text}\n        placeholder=\"Write a message...\"\n        className=\"ce-custom-message-input\"\n        style={{\n          ...styles.messageInput,\n          ...(isFocused ? styles.messageInputFocused : {}),\n        }}\n        onFocus={() => setIsFocused(true)}\n        onBlur={() => setIsFocused(false)}\n      />\n      <style>{`.ce-custom-message-input::placeholder { color: #e1e1e1; font-family: Avenir; }`}</style>\n\n      <button\n        type=\"submit\"\n        className=\"ce-custom-send-button\"\n        style={{ ...styles.sendButton }}\n      >\n        <CaretUpFilled />\n      </button>\n    </form>\n  );\n};\n\nconst styles = {\n  messageForm: {\n    height: '68px',\n    marginLeft: '12px',\n    marginRight: '12px',\n    width: 'calc(100% - 12px - 12px)',\n    borderRadius: '0px 0px 8px 8px',\n    backgroundColor: '#3e404b',\n  } as CSSProperties,\n  messageInput: {\n    marginTop: '6px',\n    marginLeft: '3.3vw',\n    marginRight: '4px',\n    width: 'calc(100% - 3.3vw - 3.3vw - 12px - 12px - 36px - 4px)',\n    boxShadow: 'rgba(24, 144, 255, 0.35) 0px 2px 7px',\n    border: '1px solid rgb(24, 144, 255)',\n    outline: 'none',\n    backgroundColor: '#434756',\n    color: 'white',\n    fontSize: '14px',\n    letterSpacing: '0.17px',\n    padding: '0px 15px',\n    height: '36px',\n    borderRadius: '8px',\n    transition: 'all .44s ease',\n  } as CSSProperties,\n  messageInputFocused: {\n    boxShadow: 'rgba(64, 169, 255, 0.35) 0px 2px 7px',\n    border: '1px solid #40a9ff',\n  } as CSSProperties,\n  sendButton: {\n    cursor: 'pointer',\n    backgroundColor: 'rgb(24, 144, 255)',\n    border: '1px solid rgb(24, 144, 255)',\n    width: '36px',\n    height: '36px',\n    borderRadius: '8px',\n    color: 'white',\n    boxShadow: 'rgba(24, 144, 255, 0.35) 0px 5px 15px',\n    transition: 'all .44s ease',\n  } as CSSProperties,\n};\n\nexport default MessageForm;\n","import React, { CSSProperties } from 'react';\n\nimport { FormOutlined } from '@ant-design/icons';\n\ninterface ChatListHeaderProps {\n  onNewChatClick: () => void;\n}\n\nconst ChatListHeader = (props: ChatListHeaderProps) => {\n  return (\n    <div style={styles.chatListHeader}>\n      <div style={styles.chatListHeaderTitle}>Chats</div>\n\n      <button\n        className=\"ce-new-chat-button\"\n        style={styles.chatListHeaderButton}\n        onClick={props.onNewChatClick}\n      >\n        <FormOutlined />\n      </button>\n\n      <style>{`.ce-new-chat-button:hover { color: rgb(24, 144, 255) !important; }`}</style>\n    </div>\n  );\n};\n\nconst styles = {\n  chatListHeader: {\n    display: 'inline-block',\n    width: 'calc(100% - 12px - 12px)',\n    margin: '0px 12px',\n    paddingTop: '28px',\n    paddingBottom: '32px',\n  } as CSSProperties,\n  chatListHeaderTitle: {\n    display: 'inline-block',\n    color: 'white',\n    fontSize: '21px',\n    fontFamily: 'Avenir',\n    fontWeight: '600',\n  } as CSSProperties,\n  chatListHeaderButton: {\n    display: 'inline-block',\n    float: 'right',\n    cursor: 'pointer',\n    transition: 'all 0.33s ease',\n    outline: 'none',\n    backgroundColor: 'rgb(40,43,54)',\n    border: '1px solid rgb(40,43,54)',\n    fontSize: '18px',\n    color: 'white',\n  } as CSSProperties,\n};\n\nexport default ChatListHeader;\n","import React, { useState } from 'react';\n\nimport axios from 'axios';\n\nimport {\n  useMultiChatLogic,\n  ChatList,\n  MultiChatWindowProps,\n  MultiChatSocket,\n  ChatFeed,\n  ChatCardProps,\n  ChatHeaderProps,\n  MessageFormProps,\n  MessageListProps,\n  MessageList,\n  PersonObject,\n} from 'react-chat-engine-advanced';\n\nimport { useIsMobile } from './functions/isMobile';\n\nimport ChatHeader from './components/ChatHeader';\nimport ChatForm, { OptionType } from './components/ChatForm';\nimport ChatCard from './components/ChatCard';\nimport MessageForm from './components/MessageForm';\nimport ChatListHeader from './components/ChatListHeader';\n\ninterface PrettyChatWindowProps extends MultiChatWindowProps {\n  projectId: string;\n  username: string;\n  secret: string;\n  httpUrl?: string;\n  height?: string;\n}\n\nexport const PrettyChatWindow = (props: PrettyChatWindowProps) => {\n  const [isChatFormActive, setIsChatFormActive] = useState(false);\n  const [chatFormUsers, setChatFromUsers] = useState<PersonObject[]>([]);\n  const isMobile: boolean = useIsMobile();\n\n  const chatProps = useMultiChatLogic(\n    props.projectId,\n    props.username,\n    props.secret,\n    props.httpUrl\n  );\n\n  async function getOrCreateChat() {\n    const usernames = chatFormUsers.map(user => user.username);\n    const data = {\n      usernames: usernames,\n    };\n    const headers = {\n      'Project-ID': chatProps.projectId,\n      'User-Name': chatProps.username,\n      'User-Secret': chatProps.secret,\n    };\n\n    axios.put('https://api.chatengine.io/chats/', data, { headers }).then(r => {\n      setIsChatFormActive(false);\n      setChatFromUsers([]);\n      chatProps.onChatCardClick(r.data.id);\n    });\n  }\n\n  const onChatFormChange = (options: OptionType[]) => {\n    const users: PersonObject[] = options.map(option =>\n      JSON.parse(option.value)\n    );\n    setChatFromUsers(users);\n  };\n\n  return (\n    <div\n      style={{ height: props.height ? props.height : '100%', display: 'flex' }}\n    >\n      <MultiChatSocket {...chatProps} />\n\n      <div style={styles.col1} />\n\n      <div style={isMobile ? styles.col0 : styles.col8}>\n        <ChatList\n          {...chatProps}\n          renderChatForm={() => (\n            <ChatListHeader\n              onNewChatClick={() => {\n                chatProps.setActiveChatId(undefined);\n                setIsChatFormActive(true);\n              }}\n            />\n          )}\n          renderChatCard={(props: ChatCardProps) => (\n            <ChatCard\n              {...props}\n              username={chatProps.username}\n              onChatCardClick={(chatId: number) => {\n                setIsChatFormActive(false);\n                setChatFromUsers([]);\n                chatProps.onChatCardClick(chatId);\n              }}\n              isActive={\n                props.chat !== undefined &&\n                chatProps.activeChatId === props.chat.id\n              }\n              chat={props.chat}\n            />\n          )}\n        />\n      </div>\n\n      <div style={isMobile ? styles.col22 : styles.col14}>\n        <ChatFeed\n          {...chatProps}\n          renderChatHeader={(chatHeaderProps: ChatHeaderProps) => {\n            if (isChatFormActive) {\n              return (\n                <ChatForm\n                  projectId={chatProps.projectId}\n                  username={chatProps.username}\n                  secret={chatProps.secret}\n                  onChange={onChatFormChange}\n                  onCancel={getOrCreateChat}\n                />\n              );\n            } else {\n              return (\n                <ChatHeader\n                  {...chatHeaderProps}\n                  chat={chatProps.chat}\n                  projectId={chatProps.projectId}\n                  username={chatProps.username}\n                  secret={chatProps.secret}\n                  onDeleteChat={chatProps.onDeleteChat}\n                />\n              );\n            }\n          }}\n          renderMessageList={(props: MessageListProps) => (\n            <MessageList\n              {...props}\n              renderMessageList={undefined}\n              messages={isChatFormActive ? [] : chatProps.messages}\n            />\n          )}\n          renderMessageForm={(props: MessageFormProps) => {\n            if (isChatFormActive) {\n              return <div style={styles.messageForm} />;\n            } else {\n              return <MessageForm {...props} />;\n            }\n          }}\n        />\n      </div>\n\n      <div style={styles.col1} />\n\n      <style>{`\n      .ce-chat-list { background-color: rgb(40,43,54) !important; }\n      .ce-chat-form { background-color: rgb(40,43,54) !important; padding-bottom: 14px !important;  }\n      .ce-chat-form-title { color: white !important; }\n\n      .ce-chat-feed-column { border: none !important; }\n      .ce-chat-feed { background-color: rgb(40,43,54) !important; }\n      .ce-message-list { margin-top: 24px !important; margin-left: 12px !important; margin-right: 12px !important; padding: 0px 3.3vw !important; background: linear-gradient(0deg, rgba(62,64,75,1) 0%, rgba(62,64,75,1) 75%, rgba(40,43,54,1) 100%); border-radius: 8px 8px 0px 0px !important; height: calc((100% - 85px) - 72px - 24px - 12px) !important; }\n\n      .ce-message-date-text { font-weight: 600; letter-spacing: 0.1px !important; font-family: 'Avenir' !important; color: rgb(153, 153, 153) !important; font-size: 14px !important; letter-spacing: -1px; }\n      .ce-my-message-body { font-family: 'Avenir' !important; padding: 15px !important; }\n      .ce-my-message-timestamp { font-weight: 600; letter-spacing: 0.1px !important; font-family: 'Avenir' !important; font-size: 12px !important; padding: 15px !important; margin-right: 0px !important; letter-spacing: -1px; }\n      .ce-their-message-body { font-family: 'Avenir' !important; padding: 15px !important; background-color: #434756 !important; color: white !important; }\n      .ce-their-message-timestamp { font-weight: 600; letter-spacing: 0.1px !important; font-family: 'Avenir' !important; font-size: 12px !important; padding: 15px !important; margin-left: 0px !important; letter-spacing: -1px; }\n      .ce-their-message-timestamp { color: rgb(241, 240, 240) !important; letter-spacing: -1px; }\n      .ce-their-message-sender-username { color: #999 !important; }\n      .ce-message-file { background-color: #434758 !important; color: #c5c5c5 !important; border-radius: 8px !important; }\n      .ce-message-image { background-color: #434758 !important; color: #c5c5c5 !important; border-radius: 8px !important; padding: 0px !important; max-width: 124px !important; max-height: 124px !important; }\n\n      .ce-mobile-chat-list-button { top: 32px !important; left: 0px !important; }\n      .ce-mobile-chat-settings-button { display: none !important; }\n\n      .ce-avatar-status { border: 2px solid rgb(40,43,54) !important; width: 7px !important; height: 7px !important; }\n      `}</style>\n    </div>\n  );\n};\n\nconst styles = {\n  col0: {\n    display: 'block',\n    flex: '0 0 0%',\n    maxWidth: '0%',\n  } as React.CSSProperties,\n  col1: {\n    display: 'block',\n    flex: '0 0 4.16666667%',\n    maxWidth: '4.16666667%',\n    backgroundColor: '#282b36',\n  } as React.CSSProperties,\n  col8: {\n    display: 'block',\n    flex: '0 0 33.3333333%',\n    maxWidth: '33.3333333%',\n  } as React.CSSProperties,\n  col9: {\n    display: 'block',\n    flex: '0 0 37.5%',\n    maxWidth: '37.5%',\n  } as React.CSSProperties,\n  col14: {\n    display: 'block',\n    flex: '0 0 58.33333333%',\n    maxWidth: '58.33333333%',\n  } as React.CSSProperties,\n  col16: {\n    display: 'block',\n    flex: '0 0 66.66666667%',\n    maxWidth: '66.66666667%',\n  } as React.CSSProperties,\n  col22: {\n    display: 'block',\n    flex: '0 0 91.66666667%',\n    maxWidth: '91.66666667%',\n  } as React.CSSProperties,\n  col24: {\n    display: 'block',\n    flex: '0 0 100%',\n    maxWidth: '100%',\n  } as React.CSSProperties,\n  messageForm: {\n    height: '68px',\n    marginLeft: '12px',\n    marginRight: '12px',\n    width: 'calc(100% - 12px - 12px)',\n    borderRadius: '0px 0px 8px 8px',\n    backgroundColor: '#3e404b',\n  } as React.CSSProperties,\n};\n"],"names":["useIsMobile","useState","size","setSize","useLayoutEffect","updateSize","window","innerWidth","innerHeight","addEventListener","removeEventListener","getOtherUsers","chat","username","otherMembers","people","filter","member","person","map","getChatTitle","otherUsers","length","first_name","last_name","title","i","OtherAvatars","props","memberOne","undefined","memberTwo","memberThree","React","style","Avatar","className","avatarUrl","avatar","styles","is_online","online","offline","width","height","lineHeight","fontSize","top","left","display","position","marginLeft","transition","border","boxShadow","nowTimeStamp","Date","toISOString","replace","Math","floor","random","ChatHeader","isFilePickerLoading","setFilePickerLoading","isDeleteLoading","setDeleteLoading","otherMember","onFilesSelect","e","headers","projectId","secret","formdata","FormData","filesArr","Array","from","target","files","forEach","file","append","name","JSON","stringify","axios","post","id","then","onDelete","r","onDeleteChat","data","chatHeader","chatAvatars","headerText","headerTitle","headerSubtitle","iconWrapper","htmlFor","LoadingOutlined","color","PaperClipOutlined","headerIcon","multiple","visibility","type","onChange","DeleteFilled","onClick","fontFamily","paddingTop","textAlign","cursor","ChatForm","didMountRef","useRef","options","setOptions","selected","setSelected","useEffect","current","getAllUsers","users","user","value","label","console","log","onSuccess","onError","get","chatForm","Select","autoFocus","isMulti","customStyles","placeholder","createChatButton","createChatButtonDisabled","onCancel","disabled","PlusOutlined","container","marginTop","control","provided","outline","backgroundColor","borderRadius","input","option","state","isFocused","noOptionsMessage","menu","right","CustomChatCard","messageText","last_message","text","hasNotification","sender_username","ChatCard","description","avatarUsername","avatarStyle","isActive","renderAvatar","onChatCardClick","margin","titleStyle","subtitleStyle","bottom","timeStampStyle","activeStyle","notificationStyle","MessageForm","setText","setIsFocused","onSubmit","event","preventDefault","trim","message","created","custom_json","attachments","messageForm","messageInput","messageInputFocused","onFocus","onBlur","sendButton","CaretUpFilled","marginRight","letterSpacing","padding","ChatListHeader","chatListHeader","chatListHeaderTitle","chatListHeaderButton","onNewChatClick","FormOutlined","paddingBottom","fontWeight","PrettyChatWindow","isChatFormActive","setIsChatFormActive","chatFormUsers","setChatFromUsers","isMobile","chatProps","useMultiChatLogic","httpUrl","getOrCreateChat","usernames","put","onChatFormChange","parse","MultiChatSocket","col1","col0","col8","ChatList","renderChatForm","setActiveChatId","renderChatCard","chatId","activeChatId","col22","col14","ChatFeed","renderChatHeader","chatHeaderProps","renderMessageList","MessageList","messages","renderMessageForm","flex","maxWidth","col9","col16","col24"],"mappings":"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"}